# ルーティングを設定する


➀src/index.ts：すべてのルートをまとめるファイル。


➁controllers/userController.ts：mongodbを操作するための操作をまとめている


```ts
import Express from 'express'
import User from '../models/userModel'

export default {
  index: async (
    req: Express.Request,
    res: Express.Response,
    next: Express.NextFunction
  ) => {
    try {
      const users = await User.find({}).exce()
      res.locals.users = users
      next()
    } catch (err) {
      next(err)
    }
  },
  indexView: (req: Express.Request, res: Express.Response) => {
    res.render('users/index')
  },
}
```

また、ルート設定では、index()とindexView()のように複数の関数を設定することが出来る。


また、設定した関数を使えるようにするにはルーティングを以下のようにすればよい。

src/routes/userRoutes.ts


```ts
import Express from 'express' 
import usersController from '../controllers/usersController'

//import文でuserControllerとして読み込んでいる。
//また、userController内の関数にアクセスるには、userController.関数名とする。
//その例外が以下にある

const router = Express.Router()

router.get('/', usersController.index, usersController.indexView)

//

export default router
```
